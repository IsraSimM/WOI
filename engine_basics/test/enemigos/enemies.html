<!-- Prueba de simulacion de enemigos -->
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Room Test - Modular</title>
    
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    
    <!-- Scripts modulares en orden de dependencias -->
    <script defer src="configuracionDatos.js"></script>
    <script defer src="Coliciones.js"></script>
    <script defer src="ConstruccionSala.js"></script>
    <script defer src="Items.js"></script>
    <script defer src="Navegacion.js"></script>
    <script defer src="Movimiento.js"></script>
    <script defer src="Inicializacion.js"></script>
  </head>
  
  <body>
    <a-scene background="color: #9aa0a6" renderer="antialias: true; colorManagement: true;">
      
      <!-- Assets -->
      <a-assets>
        <a-asset-item id="pacmanModel" src="pacman.glb"></a-asset-item>
        <a-asset-item id="mdl-full" src="../../assets/blocks/full.glb"></a-asset-item>
      </a-assets>

      <!-- Player con controles de movimiento -->
      <a-entity id="player" 
                position="0 0.1 0"
                room-player="speed: 8; jump: 6; gravity: 18; radius: 1.2; height: 1.6; sprintMult: 1.3">
        
        <!-- Head con step-bob -->
        <a-entity id="head" 
                  step-bob="enabled: true; intensity: 0.028; frequency: 3.4; sway: 0.45; maxSpeed: 8; airScale: 0.15; jumpLift: 0.035; landDip: 0.06; strafeTilt: 2.2; spring: 28; damping: 10; sprintFov: 4; sprintBob: 1.2">
          
          <!-- Camera -->
          <a-entity camera 
                    look-controls="mouseSensitivity: 0.08; touchSensitivity: 0.8" 
                    position="0 1.6 0">
          </a-entity>
        </a-entity>

        <!-- Body visual del jugador -->
        <a-entity id="body">
          <a-cylinder radius="0.35" height="1.2" color="#3b82f6" position="0 0.6 0"></a-cylinder>
          <a-sphere radius="0.28" color="#f97316" position="0 1.45 0"></a-sphere>
        </a-entity>
      </a-entity>

      <!-- Enemigo de prueba (ajustado para el mini escenario) -->
      <a-entity id="enemy" 
                gltf-model="#pacmanModel" 
                rotation="0 270 0" 
                position="0 0.5 -10" 
                scale="0.5 0.5 0.5">
      </a-entity>

      <!-- Sala (room se construye dinÃ¡micamente) -->
      <a-entity id="room"></a-entity>
      
      <!-- Piso -->
      <a-plane id="floor" 
               position="0 0 0" 
               rotation="-90 0 0" 
               width="100" 
               height="100" 
               color="#4b5563">
      </a-plane>

      <!-- Cielo -->
      <a-sky color="#9aa0a6"></a-sky>
      
    </a-scene>
  </body>
</html>        